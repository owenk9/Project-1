<!DOCTYPE html>
<html class="loading" lang="en" data-textdirection="ltr" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=0, minimal-ui">
    <meta name="description" content="Chameleon Admin is a modern Bootstrap 4 webapp &amp; admin dashboard html template with a large number of components, elegant design, clean and organized code.">
    <meta name="keywords" content="admin template, Chameleon admin template, dashboard template, gradient admin template, responsive admin template, webapp, eCommerce dashboard, analytic dashboard">
    <meta name="author" content="ThemeSelect">
    <title>Agricultural Admin</title>
    <link rel="apple-touch-icon" href="/admin/theme-assets/images/logo/img.png">
    <link rel="shortcut icon" type="image/x-icon" href="/admin/theme-assets/images/logo/img.png">
    <link href="https://fonts.googleapis.com/css?family=Muli:300,300i,400,400i,600,600i,700,700i%7CComfortaa:300,400,700" rel="stylesheet">
    <link href="https://maxcdn.icons8.com/fonts/line-awesome/1.1/css/line-awesome.min.css" rel="stylesheet">
    <!-- BEGIN VENDOR CSS-->
    <link rel="stylesheet" type="text/css" href="/admin/theme-assets/css/vendors.css">
    <!-- END VENDOR CSS-->
    <!-- BEGIN CHAMELEON  CSS-->
    <link rel="stylesheet" type="text/css" href="/admin/theme-assets/css/app-lite.css">
    <!-- END CHAMELEON  CSS-->
    <!-- BEGIN Page Level CSS-->
    <link rel="stylesheet" type="text/css" href="/admin/theme-assets/css/core/menu/menu-types/vertical-menu.css">
    <link rel="stylesheet" type="text/css" href="/admin/theme-assets/css/core/colors/palette-gradient.css">
    <!--Font awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">

    <!-- END Page Level CSS-->
    <!-- BEGIN Custom CSS-->
    <style>
        .card-header {
            position: relative;
        }
        .search-container {
            width: 256px;
        }

        .search-container .input-group {
            border-radius: 20px;
            overflow: hidden;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }
        .search-container input {
            border: none;
            padding-left: 15px;
            font-size: 14px;
        }
        .search-container .input-group-text {
            background-color: transparent;
            border: none;
            cursor: pointer;
            padding-right: 15px;
        }
        .search-container .input-group-text i {
            color: #7367F0;
        }


        .btn-icon {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            font-size: 16px;
            padding: 8px 12px;
            border-radius: 50%;
            text-align: center;
            min-width: 40px; /* Adjust based on your preference */
            min-height: 40px; /* Adjust based on your preference */
            width: 40px; /* Adjust based on your preference */
            height: 40px; /* Adjust based on your preference */
        }

        .btn-icon i {
            font-size: 18px; /* Adjust icon size */
        }

        .btn-primary.btn-icon {
            background-color: #007bff;
            border-color: #007bff;
            color: #fff;
        }

        .btn-success.btn-icon {
            background-color: #6967CE;
            border-color: #6967CE;
            color: #fff;
        }

        .btn-danger.btn-icon {
            background-color: #fa626b;
            border-color: #fa626b;
            color: #fff;
        }

        /* Hover Effect */
        .btn-icon:hover {
            opacity: 0.8; /* Slightly reduce opacity on hover */
            text-decoration: none;
        }

        /* Optional: Add box-shadow for better visual */
        .btn-icon {
            box-shadow: 0 2px 4px rgba(0,0,0,0.2);
        }

        .btn-icon:focus {
            outline: none; /* Remove outline on focus */
        }

        .table-wtf {
            display: flex;
            flex-direction: row;
            gap: 12px;
            justify-content: space-between;
        }
        /* Search Form Styles */
        form {
            display: flex;
            align-items: center;
            margin: 0;
            height: 36px;
        }

        form input[type="text"] {
            height: 36px;
            width: 200px;
            padding: 6px 12px;
            border: 1px solid #ddd;
            border-radius: 4px 0 0 4px;
            outline: none;
            transition: border-color 0.3s;
            font-size: 13px;
        }

        form button {
            height: 36px;
            padding: 6px 12px;
            border: none;
            background: linear-gradient(45deg, #6967CE, #7367F0);
            color: #fff;
            border-radius: 0 4px 4px 0;
            cursor: pointer;
            transition: background-color 0.3s;
            font-size: 13px;
            font-weight: 500;  /* Match with New Product button */
            text-transform: capitalize; /* Makes "Search" same case as "New Product" */
        }

        /* New Product Button Styles */
        .btn-rect {
            display: inline-flex;
            align-items: center;
            padding: 6px 12px;
            height: 36px;
            border-radius: 4px;
            font-size: 13px;
            font-weight: 500;
            text-align: center;
            text-decoration: none;
            color: #fff;
            transition: all 0.3s ease;
            box-shadow: 0 2px 4px rgba(105, 103, 206, 0.15);
            background: linear-gradient(45deg, #6967CE, #7367F0);
            border: none;
            line-height: 1;
        }

        .btn-rect i {
            font-size: 13px;
            margin-right: 6px;
        }

        /* Rest of the styles remain the same */
        .btn-rect:hover {
            transform: translateY(-1px);
            box-shadow: 0 4px 8px rgba(105, 103, 206, 0.25);
            opacity: 0.95;
            color: #fff;
        }

        .btn-rect:active {
            transform: translateY(0);
            box-shadow: 0 2px 4px rgba(105, 103, 206, 0.15);
        }

        /* Container Styles */
        .table-wtf {
            display: flex;
            align-items: center;
            justify-content: space-between;
            gap: 12px;
            margin-top: 1rem;
            padding-right: 1.5rem;
        }

        /* Container Styles */
        .table-wtf {
            display: flex;
            align-items: center;
            justify-content: space-between;
            gap: 12px;
            margin-top: 1rem;
            padding-right: 1.5rem;
        }
        /* Pagination Container Styles */
        .card {
            position: relative;
            padding-bottom: 60px; /* Space for pagination */
            min-height: 200px; /* Ensure enough space for content */
        }

        nav[aria-label="Page navigation example"] {
            position: absolute;
            bottom: 20px;
            right: 20px;
        }

        .pagination {
            display: flex;
            justify-content: flex-end;
            margin: 0;
            padding: 0;
        }

        .pagination .page-item {
            margin: 0 2px;
        }

        .pagination .page-item .page-link {
            padding: 6px 12px;
            color: #6967CE;
            border: 1px solid #dee2e6;
            background-color: #fff;
            transition: all 0.3s ease;
        }

        .pagination .page-item .page-link:hover {
            background-color: #6967CE;
            color: #fff;
            border-color: #6967CE;
        }

        .pagination .page-item.active .page-link {
            background-color: #6967CE;
            border-color: #6967CE;
            color: #fff;
        }

        .pagination .page-item.disabled .page-link {
            color: #6c757d;
            pointer-events: none;
            background-color: #fff;
            border-color: #dee2e6;
        }

        /* Optional: Add responsive adjustments */
        @media (max-width: 768px) {
            nav[aria-label="Page navigation example"] {
                position: static;
                margin-top: 20px;
            }

            .pagination {
                justify-content: center; /* Center align on mobile */
            }
        }

    </style>

    <!-- END Custom CSS-->

</head>
<body class="vertical-layout vertical-menu 2-columns   menu-expanded fixed-navbar" data-open="click" data-menu="vertical-menu" data-color="bg-gradient-x-purple-blue" data-col="2-columns">

<!-- fixed-top-->
<header th:replace="~{/admin/fragments/header :: header}"></header>

<!-- ////////////////////////////////////////////////////////////////////////////-->


<div class="main-menu menu-fixed menu-light menu-accordion    menu-shadow " data-scroll-to-active="true" data-img="/admin/theme-assets/images/backgrounds/02.jpg">
    <div class="navbar-header">
        <ul class="nav navbar-nav flex-row">
            <li class="nav-item mr-auto"><a class="navbar-brand" href="index.html"><img class="brand-logo" alt="Chameleon admin logo" src="/admin/theme-assets/images/logo/logo.png"/>
                <h3 class="brand-text">Chameleon</h3></a></li>
            <li class="nav-item d-md-none"><a class="nav-link close-navbar"><i class="ft-x"></i></a></li>
        </ul>
    </div>
    <div class="main-menu-content">
        <ul class="navigation navigation-main" id="main-menu-navigation" data-menu="menu-navigation">
            <li class=" nav-item"><a th:href="@{/admin/dashboard}"><i class="ft-home"></i><span class="menu-title" data-i18n="">Dashboard</span></a>
            </li>
            <li class=" nav-item"><a th:href="@{/admin/charts}"><i class="ft-pie-chart"></i><span class="menu-title" data-i18n="">Charts</span></a>
            </li>
<!--            <li class="active"><a href="/admin/category"><i class="ft-credit-card"></i><span class="menu-title" data-i18n="">Category</span></a>-->
<!--            </li>-->
<!--            <li class="active"><a href="/admin/tables"><i class="ft-credit-card"></i><span class="menu-title" data-i18n="">Products</span></a>-->
<!--            </li>-->
<!--            <li class="active"><a href="/admin/user"><i class="ft-credit-card"></i><span class="menu-title" data-i18n="">User</span></a>-->
<!--            </li>-->
            <li class="nav-item has-sub">
                <a href="#"><i class="ft-layers"></i><span class="menu-title" data-i18n="">Management</span></a>
                <ul class="menu-content">
                    <li><a class="menu-item" href="/admin/tables"><i class="ft-credit-card"></i> Products</a></li>
                    <li><a class="menu-item" href="/admin/category"><i class="ft-credit-card"></i> Category</a></li>
                    <li><a class="menu-item" href="/admin/user"><i class="ft-credit-card"></i> User</a></li>
                    <li><a class="menu-item" href="/admin/orders"><i class="ft-credit-card"></i> Order</a></li>

                </ul>
            </li>
            <li class="nav-item has-sub">
                <a href="#"><i class="ft-layers"></i><span class="menu-title" data-i18n="">Statistic</span></a>
                <ul class="menu-content">
                    <li><a class="menu-item" th:href="@{/admin/reports}"><i class="ft-credit-card"></i> Statistic Products</a></li>
                    <li><a class="menu-item" th:href="@{/admin/reportCategory}"><i class="ft-credit-card"></i> Statistic Category</a></li>
                    <li><a class="menu-item" th:href="@{/admin/reportYear}"><i class="ft-credit-card"></i> Statistic Year</a></li>
                    <li><a class="menu-item" th:href="@{/admin/reportMonth}"><i class="ft-credit-card"></i> Statistic Month</a></li>
                    <li><a class="menu-item" th:href="@{/admin/reportQuarter}"><i class="ft-credit-card"></i> Statistic Quarter</a></li>
                    <li><a class="menu-item" th:href="@{/admin/reportUser}"><i class="ft-credit-card"></i> Statistic User</a></li>
                </ul>
            </li>
        </ul>
    </div>
    <div class="navigation-background"></div>
</div>

<div class="app-content content">
    <div class="content-wrapper">
        <div class="content-wrapper-before"></div>
        <div class="content-header row">
<!--            <div class="content-header-left col-md-4 col-12 mb-2">-->
<!--                <h3 class="content-header-title">User</h3>-->
<!--            </div>-->
<!--            <div class="content-header-right col-md-8 col-12">-->
<!--                <div class="breadcrumbs-top float-md-right">-->
<!--                    <div class="breadcrumb-wrapper mr-1">-->
<!--                        <ol class="breadcrumb">-->
<!--                            <li class="breadcrumb-item"><a href="index.html">Home</a>-->
<!--                            </li>-->
<!--                            <li class="breadcrumb-item active">User-->
<!--                            </li>-->
<!--                        </ol>-->
<!--                    </div>-->
<!--                </div>-->
<!--            </div>-->
        </div>
        <div class="content-body">
            <!-- Basic Tables start -->
            <div class="row">
                <div class="col-12">
                    <div class="card">
                        <div class="card-header">
                            <h4 class="card-title">USER</h4>
                            <!--                            <a class="heading-elements-toggle"><i class="la la-ellipsis-v font-medium-3"></i></a>-->
                            <div class="table-wtf mt-3">
<!--                                <div class="search-container">-->
<!--                                    <div class="input-group">-->
<!--                                        <input type="text" id="searchInput" class="form-control" placeholder="Search user...">-->
<!--                                        <div class="input-group-append">-->
<!--                                        <span class="input-group-text">-->
<!--                                            <i class="ft-search"></i>-->
<!--                                        </span>-->
<!--                                        </div>-->
<!--                                    </div>-->
<!--                                </div>-->
                                <!--                                <a th:href="@{/admin/products}" class="btn btn-primary" role="button" >New Product</a>-->

                                <form th:action="@{/admin/paginationUsers}" th:method="post">
                                    <input type="text" name="search" placeholder="What do you need?" th:value="${search}">
                                    <button type="submit" class="site-btn">SEARCH</button>
                                </form>

<!--                                <a th:href="@{/admin/users}" class="btn btn-primary btn-rect">-->
<!--                                    <i class="fa fa-plus mr-1"></i> New User-->
<!--                                </a>-->
                            </div>

                            <!--                            <a th:href="@{/admin/products}" class="btn btn-primary btn-icon" role="button">-->
                            <!--                                <i class="fa fa-plus"></i>-->
                            <!--                            </a>-->
                            <!--                            <div class="container mt-4">-->
                            <!--                                <div class="input-group">-->
                            <!--                                    <input type="text" id="searchInput" class="form-control" placeholder="Search by product name">-->
                            <!--                                    <div class="input-group-append">-->
                            <!--                                        <button class="btn btn-primary" type="button" onclick="searchProducts()">Search</button>-->
                            <!--                                    </div>-->
                            <!--                                </div>-->
                            <!--                            </div>-->

                            <div class="heading-elements">
                                <ul class="list-inline mb-0">
                                    <li><a data-action="collapse"><i class="ft-minus"></i></a></li>
                                    <li><a data-action="reload"><i class="ft-rotate-cw"></i></a></li>
                                    <li><a data-action="expand"><i class="ft-maximize"></i></a></li>
                                    <li><a data-action="close"><i class="ft-x"></i></a></li>
                                </ul>
                            </div>
                        </div>
                        <div class="card-content collapse show">
                            <div class="card-body">
                                <p class="card-text"></p>
                                <p><span class="text-bold-600"></span></p>
                                <div class="table-responsive">
                                    <table class="table">
                                        <thead>
                                        <tr>
                                            <th>Id</th>
                                            <th>User Name</th>

                                            <th>Email</th>
                                            <th></th>
                                        </tr>
                                        </thead>
                                        <tbody id="userTableBody">
                                        <tr th:each="item : ${paginatedUsers}">
                                            <th scope="row">[[${item.id}]]</th>
                                            <td>[[${item.name}]]</td>
<!--                                            <td>[[${item.password}]]</td>-->
                                            <td>[[${item.email}]]</td>


                                            <td>
                                                <a th:href="@{/admin/editUser/{id}(id=${item.id})}" class="btn btn-success btn-icon">
                                                    <i class="fa fa-edit"></i>
                                                </a>
                                                <a th:href="@{deleteUser/{id}(id=${item.id})}"
                                                   class="btn btn-danger btn-icon"
                                                   onclick="return confirmDelete();">
                                                    <i class="fa fa-trash"></i>
                                                </a>
                                            </td>
                                        </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div>

                            <!--Pagination-->
                            <nav aria-label="Page navigation example">
                                <ul class="pagination">
<!--                                    <li class="page-item">-->
<!--                                        <a class="page-link" href="#" aria-label="Previous">-->
<!--                                            <span aria-hidden="true">&laquo;</span>-->
<!--                                        </a>-->
<!--                                    </li>-->
                                    <li class="page-item" th:each="pageNumber : ${#numbers.sequence(1, totalPages)}">
                                        <a class="page-link"
                                           th:text="${pageNumber}"
                                           th:href="@{/admin/paginationUsers(currentPage=${pageNumber}, search=${search})}">
                                        </a>
                                    </li>
<!--                                    <li class="page-item" th:classappend="${currentPage == totalPages} ? 'disabled'">-->
<!--                                        <a class="page-link" th:href="@{/admin/paginationUsers(currentPage=${currentPage + 1})}" aria-label="Next">-->
<!--                                            <span aria-hidden="true">&raquo;</span>-->
<!--                                        </a>-->
<!--                                    </li>-->
                                </ul>
                            </nav>
                            <!--End Pagination-->
                        </div>
                    </div>
                </div>
            </div>
            <!-- Basic Tables end -->
        </div>
    </div>
</div>
<!-- ////////////////////////////////////////////////////////////////////////////-->

<footer class="footer footer-static footer-light navbar-border navbar-shadow">
    <div class="clearfix blue-grey lighten-2 text-sm-center mb-0 px-2"><span class="float-md-left d-block d-md-inline-block">2018  &copy; Copyright <a class="text-bold-800 grey darken-2" href="https://themeselection.com" target="_blank">ThemeSelection</a></span>
        <ul class="list-inline float-md-right d-block d-md-inline-blockd-none d-lg-block mb-0">
            <li class="list-inline-item"><a class="my-1" href="https://themeselection.com/" target="_blank"> More themes</a></li>
            <li class="list-inline-item"><a class="my-1" href="https://themeselection.com/support" target="_blank"> Support</a></li>
            <li class="list-inline-item"><a class="my-1" href="https://themeselection.com/products/chameleon-admin-modern-bootstrap-webapp-dashboard-html-template-ui-kit/" target="_blank"> Purchase</a></li>
        </ul>
    </div>
</footer>

<!-- BEGIN VENDOR JS-->
<script src="/admin/theme-assets/vendors/js/vendors.min.js" type="text/javascript"></script>
<!-- BEGIN VENDOR JS-->
<!-- BEGIN PAGE VENDOR JS-->
<!-- END PAGE VENDOR JS-->
<!-- BEGIN CHAMELEON  JS-->
<script src="/admin/theme-assets/js/core/app-menu-lite.js" type="text/javascript"></script>
<script src="/admin/theme-assets/js/core/app-lite.js" type="text/javascript"></script>
<!-- END CHAMELEON  JS-->
<!-- BEGIN PAGE LEVEL JS-->
<!-- END PAGE LEVEL JS-->

<!-- Add this script for live search functionality -->
<script>
    function searchCategory() {
        var input, filter, table, tr, td, i, txtValue;
        input = document.getElementById("searchInput");
        filter = input.value.toUpperCase();
        table = document.getElementById("categoryTableBody");
        tr = table.getElementsByTagName("tr");

        for (i = 0; i < tr.length; i++) {
            td = tr[i].getElementsByTagName("td")[0]; // Index 0 corresponds to the Product Name column
            if (td) {
                txtValue = td.textContent || td.innerText;
                if (txtValue.toUpperCase().indexOf(filter) > -1) {
                    tr[i].style.display = "";
                } else {
                    tr[i].style.display = "none";
                }
            }
        }
    }

    // Add event listener for real-time search
    document.getElementById("searchInput").addEventListener("input", searchCategory);

    function confirmDelete() {
        return confirm("Bạn có chắc chắn muốn xóa sản phẩm này không?");
    }
</script>
</body>
</html>